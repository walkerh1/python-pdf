#!/usr/bin/env python3

# pypdf - a command-line tool that is essentially a wrapper for the python
# module, PyPDF2, allowing users to manipulate PDFs from the command-line.

import sys
import PyPDF2

# TODO: process command-line arguments

# No pdf files specified.
if len(sys.argv) <= 2:
    sys.exit(f"Usage: {sys.argv[0]} <new_filename> <file1.pdf> ... <filen.pdf>")

# Merge PDFs
# Initialise variables.
new_filename = sys.argv[1]
pdf_merger = PyPDF2.PdfFileMerger()

# Append files to merge object.
for filename in sys.argv[2:]:
    pdf_merger.append(filename)

# Write the merged files to new pdf file.
with open(new_filename, 'wb') as pdf_output:
    pdf_merger.write(pdf_output)

# TODO: implement PDF info extraction

# TODO: implement PDF page rotation

# TODO: implement PDF split

# TODO: implement PDF encryption

